{"ast":null,"code":"var _jsxFileName = \"/Users/neil/Downloads/m3-w7-d1/src/tree/NodesMove.js\";\nimport React, { Fragment } from \"react\";\nimport { Group } from \"@vx/group\";\nimport { NodeGroup } from \"react-move\";\nimport Node from \"./Node\";\nimport { findCollapsedParent, getTopLeft } from \"./utils\";\n\nfunction Nodes(_ref) {\n  var _this = this;\n\n  var nodes = _ref.nodes,\n      layout = _ref.layout,\n      orientation = _ref.orientation,\n      onNodeClick = _ref.onNodeClick;\n  return /*#__PURE__*/React.createElement(NodeGroup, {\n    data: nodes,\n    keyAccessor: function keyAccessor(d) {\n      return d.data.name;\n    },\n    start: function start(node) {\n      var parentTopLeft = getTopLeft(node.parent || {\n        x: 0,\n        y: 0\n      }, layout, orientation);\n      return {\n        top: parentTopLeft.top,\n        left: parentTopLeft.left,\n        opacity: 0\n      };\n    },\n    enter: function enter(node) {\n      var topLeft = getTopLeft(node, layout, orientation);\n      return {\n        top: [topLeft.top],\n        left: [topLeft.left],\n        opacity: [1]\n      };\n    },\n    update: function update(node) {\n      var topLeft = getTopLeft(node, layout, orientation);\n      return {\n        top: [topLeft.top],\n        left: [topLeft.left],\n        opacity: [1]\n      };\n    },\n    leave: function leave(node) {\n      var collapsedParent = findCollapsedParent(node.parent);\n      var collapsedParentPrevPos = {\n        x: collapsedParent.data.x0,\n        y: collapsedParent.data.y0\n      };\n      var topLeft = getTopLeft(collapsedParentPrevPos, layout, orientation);\n      return {\n        top: [topLeft.top],\n        left: [topLeft.left],\n        opacity: [0]\n      };\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, function (nodes) {\n    return /*#__PURE__*/React.createElement(Group, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }\n    }, nodes.map(function (_ref2) {\n      var key = _ref2.key,\n          node = _ref2.data,\n          state = _ref2.state;\n      var width = 40;\n      var height = 20;\n      return /*#__PURE__*/React.createElement(Group, {\n        top: state.top,\n        left: state.left,\n        key: key,\n        opacity: state.opacity,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(Node, {\n        node: node,\n        layout: layout,\n        orientation: orientation,\n        onClick: function onClick() {\n          return onNodeClick(node);\n        },\n        key: key,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 17\n        }\n      }));\n    }));\n  });\n}\n\nexport default Nodes;","map":{"version":3,"sources":["/Users/neil/Downloads/m3-w7-d1/src/tree/NodesMove.js"],"names":["React","Fragment","Group","NodeGroup","Node","findCollapsedParent","getTopLeft","Nodes","nodes","layout","orientation","onNodeClick","d","data","name","node","parentTopLeft","parent","x","y","top","left","opacity","topLeft","collapsedParent","collapsedParentPrevPos","x0","y0","map","key","state","width","height"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport { Group } from \"@vx/group\";\nimport { NodeGroup } from \"react-move\";\nimport Node from \"./Node\";\nimport { findCollapsedParent, getTopLeft } from \"./utils\";\n\nfunction Nodes({ nodes, layout, orientation, onNodeClick }) {\n  return (\n    <NodeGroup\n      data={nodes}\n      keyAccessor={d => d.data.name}\n      start={node => {\n        const parentTopLeft = getTopLeft(\n          node.parent || { x: 0, y: 0 },\n          layout,\n          orientation\n        );\n        return {\n          top: parentTopLeft.top,\n          left: parentTopLeft.left,\n          opacity: 0\n        };\n      }}\n      enter={node => {\n        const topLeft = getTopLeft(node, layout, orientation);\n        return {\n          top: [topLeft.top],\n          left: [topLeft.left],\n          opacity: [1]\n        };\n      }}\n      update={node => {\n        const topLeft = getTopLeft(node, layout, orientation);\n        return {\n          top: [topLeft.top],\n          left: [topLeft.left],\n          opacity: [1]\n        };\n      }}\n      leave={node => {\n        const collapsedParent = findCollapsedParent(node.parent);\n        const collapsedParentPrevPos = {\n          x: collapsedParent.data.x0,\n          y: collapsedParent.data.y0\n        };\n        const topLeft = getTopLeft(collapsedParentPrevPos, layout, orientation);\n        return {\n          top: [topLeft.top],\n          left: [topLeft.left],\n          opacity: [0]\n        };\n      }}\n    >\n      {nodes => (\n        <Group>\n          {nodes.map(({ key, data: node, state }) => {\n            const width = 40;\n            const height = 20;\n            return (\n              <Group\n                top={state.top}\n                left={state.left}\n                key={key}\n                opacity={state.opacity}\n              >\n                <Node\n                  node={node}\n                  layout={layout}\n                  orientation={orientation}\n                  onClick={() => onNodeClick(node)}\n                  key={key}\n                />\n              </Group>\n            );\n          })}\n        </Group>\n      )}\n    </NodeGroup>\n  );\n}\n\nexport default Nodes;\n"]},"metadata":{},"sourceType":"module"}